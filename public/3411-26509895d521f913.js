"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3411],{26403:function(e,l,t){var o=t(29541),s=t(93981),n=t(30583),r=t.n(n),i=t(92423),a=t(48121);let d=(0,s.forwardRef)((e,l)=>{let{value:t,prefix:n,suffix:d,className:c,lessDecimalThreshold:u,subscriptThreshold:m,showMoreDecimal:x=0}=e,{isLargerThanThreshold:p,shouldShowLessDecimal:f,zeroCount:h,valueAfterZero:v}=(0,s.useMemo)(()=>{let e=t>=(null!=m?m:.001),l=t>=(null!=u?u:1e3),{zeroCount:o,valueAfterZero:s}=function(e){let l=e.toLocaleString("fullwide",{useGrouping:!1,maximumSignificantDigits:21}),t=l.indexOf(".");if(-1===t)return{zeroCount:0,valueAfterZero:null};let o=0,s=null;for(let e=t+1;e<l.length;e++)if("0"===l[e])o++;else{s=l.slice(e);break}return{zeroCount:o,valueAfterZero:s}}(t);return{isLargerThanThreshold:e,shouldShowLessDecimal:l,zeroCount:o,valueAfterZero:s}},[u,m,t]);return t?!isFinite(t)||isNaN(t)?(0,o.jsxs)("div",{className:r()("flex flex-rows items-center whitespace-nowrap",c),children:[n,(0,o.jsx)("span",{children:"-"}),d]}):(0,o.jsxs)("div",{className:r()("flex flex-rows items-center whitespace-nowrap",c),ref:l,children:[n,p?(0,o.jsx)("span",{children:f?(0,a.qz)(i.edS(t)):(0,a.Wf)(t,x)}):(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("span",{children:"0.0"}),h>1?(0,o.jsx)("sub",{children:h}):null,v?(0,o.jsx)("span",{children:null==v?void 0:v.substring(0,4+x)}):null]}),d]}):(0,o.jsxs)("div",{className:r()("flex flex-rows items-center whitespace-nowrap",c),children:[n,(0,o.jsx)("span",{children:"0"}),d]})});d.displayName="DecimalNumber",l.Z=d},27106:function(e,l,t){var o=t(29541),s=t(93981),n=t(7744),r=t(30583),i=t.n(r),a=t(27177),d=t(20547),c=t(73430),u=t(48121),m=t(98119);let x=new n.PublicKey("HcjZvfeSNJbNkfLD4eEcRBr96AD3w1GpmMppaeRZf7ur");l.Z=e=>{let{invalid:l,apyBreakdown:{lmApy:t,feeDivTVL:n},isFarmingPool:r,isNewFarm:p,pool:f}=e,h=(0,a.XA)();(0,s.useMemo)(()=>!!f&&f===x.toBase58(),[f]);let{feeDivTVLText:v,lmApyText:g}=(0,s.useMemo)(()=>{if(void 0===t)return{feeDivTVLText:void 0,lmApyText:void 0};let e=(0,u.Hp)(n),l=r?p?"New!":(0,u.Hp)(t):"N/A";return{feeDivTVLText:e,lmApyText:l}},[r,p,t,n]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex flex-row lg:flex-col justify-between lg:justify-center items-center w-full",children:[(0,o.jsx)("p",{className:"lg:hidden text-black/50 text-xs",children:"365d Yield / TVL"}),v?(0,o.jsxs)("div",{className:i()("px-2.5 py-0.5 rounded-2xl w-fit font-semibold flex items-center space-x-1",{"bg-primary/10 text-primary":!l}),children:[(0,o.jsx)("p",{className:"font-semibold text-xs truncate whitespace-nowrap",children:l?"-":v}),l?null:(0,o.jsx)(d.Z,{id:"365_yield",placement:"top",trigger:"hover",contentClassName:"z-50",offset:[h?-100:0,0],buttonContent:(0,o.jsx)(m.Z,{width:10,height:10,className:"cursor-pointer"}),popoverContent:(0,o.jsx)("div",{className:"px-4 py-5 flex flex-col text-white max-w-[260px] space-y-3",children:"Estimated return based on 24h trade fees and lending yield"})})]}):(0,o.jsx)(c.O,{className:"w-12 h-5 !rounded"})]}),(0,o.jsxs)("div",{className:"flex flex-row lg:flex-col justify-between lg:justify-center items-center w-full",children:[(0,o.jsx)("p",{className:"lg:hidden text-black/50 text-xs",children:"LM APR"}),(0,o.jsx)("div",{className:"flex items-center space-x-1",children:g?(0,o.jsx)("div",{className:i()("px-2.5 py-0.5 rounded-2xl text-primary w-fit font-semibold",{"bg-primary/10":r}),children:(0,o.jsx)("p",{className:i()("font-semibold text-xs truncate whitespace-nowrap",{"text-black/50":!r}),children:l?"-":g})}):(0,o.jsx)(c.O,{className:"w-12 h-5 !rounded"})})]})]})}},63851:function(e,l,t){var o=t(29541),s=t(93981),n=t(92956),r=t(45009),i=t(30583),a=t.n(i),d=t(43988),c=t.n(d),u=t(92423),m=t(99438),x=t.n(m),p=t(72215),f=t(26403),h=t(12955),v=t(20547),g=t(73430),w=t(31862),y=t(68250),j=t(48121),b=t(93499),N=t(17055),C=t(65179),_=t(83032),A=t(89687),S=t(27106);let useExtractedPoolInfo=(e,l)=>{var t,i,a,d;let{publicKey:c}=(0,n.O)(),{tokenPriceMap:m,isLatest:x}=(0,p.y6)(),{tokensInfoMap:h}=(0,A.Ms)(),{allPoolsShare:v,initializedAmmImpls:g,initializedAmmImplsFetching:y,userLockedLp:N}=(0,w.JN)({isPortfolio:l})||{},{tokenMap:C}=(0,p.Bn)(),[_,S]=(0,s.useMemo)(()=>{let[l,t]=e.pool_token_mints;return[h.get(l)||C.get(l),h.get(t)||C.get(t)]},[e.pool_token_mints,C,h]),{data:[T,P]}=(0,r.a)(["token_price_in_row",null==_?void 0:_.address,null==S?void 0:S.address,x,null===(t=m[null!==(a=null==_?void 0:_.address)&&void 0!==a?a:""])||void 0===t?void 0:t.usd,null===(i=m[null!==(d=null==S?void 0:S.address)&&void 0!==d?d:""])||void 0===i?void 0:i.usd],()=>{var e,l;return _&&S?[null===(e=m[_.address])||void 0===e?void 0:e.usd,null===(l=m[S.address])||void 0===l?void 0:l.usd]:[void 0,void 0]},{enabled:!!_&&!!S,keepPreviousData:!0,initialData:[void 0,void 0]}),k=(0,s.useMemo)(()=>!T||!P,[T,P]),{data:M,isFetching:B}=(0,r.a)(["unClaimed_fee",null==c?void 0:c.toBase58(),e.pool_address,null==g?void 0:g.size],async()=>{if(!c)return null;let l=null==g?void 0:g.get(e.pool_address),t=null==N?void 0:N.get(e.pool_address);if(!l||!t)return null;let o=l.getUserLockEscrow(c);return o},{enabled:!!c}),{yourShare:L,unclaimedFee:I}=(0,s.useMemo)(()=>{let l=null==v?void 0:v.get(e.pool_address),t=(()=>{if((null==l?void 0:l.shareAmount)||(null==l?void 0:l.shareNativeAmount))return(null==l?void 0:l.shareAmount)?"$".concat((0,j.Wf)(l.shareAmount)):(0,o.jsx)(f.Z,{value:l.shareNativeAmount,suffix:(0,o.jsx)("span",{className:"ml-1",children:"MLP"})})})(),s=(()=>{if(!(null==l?void 0:l.lockedNativeAmount)&&!(null==l?void 0:l.feeAmountInUSD))return;if(!M||!_||!S)return null;if(k||!T||!P){let e=(0,b.lt)(M.fee.unClaimed.tokenA,_.decimals),l=(0,b.lt)(M.fee.unClaimed.tokenB,S.decimals);return(0,o.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,o.jsx)(f.Z,{value:e,suffix:(0,o.jsx)("span",{className:"ml-1",children:_.symbol})}),(0,o.jsx)(f.Z,{value:l,suffix:(0,o.jsx)("span",{className:"ml-1",children:S.symbol})})]})}let e=(0,b.lt)(M.fee.unClaimed.tokenA,_.decimals),t=(0,b.lt)(M.fee.unClaimed.tokenB,S.decimals),s=u.Smz(u.JpY(e,T),u.JpY(t,P));return(0,o.jsx)(f.Z,{value:s,prefix:"$"})})();return{yourShare:t,unclaimedFee:s}},[v,e.pool_address,M,k,_,S,T,P]);return{yourShare:L,unclaimedFee:I,isFetching:!g||B||!!y}},PoolTypeTags=e=>{let{pool:l}=e;return(0,o.jsxs)(o.Fragment,{children:[l.pool_type?(0,o.jsx)("p",{className:"text-black/50 text-xxs leading-none font-semibold border px-1.5 py-1 rounded text-center",children:c()(l.pool_type)}):null,_.JZ.includes(l.pool_address)?null:(0,o.jsx)("p",{className:"text-black/50 text-xxs leading-none font-semibold border px-1.5 py-1 rounded w-fit text-center",children:"Dynamic"}),l.is_lst?(0,o.jsx)("p",{className:"text-black/50 text-xxs leading-none font-semibold border px-1.5 py-1 rounded w-fit text-center",children:"LST"}):null,l.is_meme?(0,o.jsx)("p",{className:"text-black/50 text-xxs leading-none font-semibold border px-1.5 py-1 rounded w-fit text-center",children:"Meme Pool"}):null]})},PoolsRow=e=>{let{pool:l,isPortfolio:t,className:n}=e,r=(0,s.useRef)(null),{tokensInfoMap:i}=(0,A.Ms)(),{tokenPriceMap:d}=(0,p.y6)(),{yourShare:c,unclaimedFee:m,isFetching:f}=useExtractedPoolInfo(l,t),w=(0,s.useCallback)(e=>{r.current&&e.nativeEvent.composedPath().includes(r.current)&&e.preventDefault()},[]),[b,_]=(0,s.useMemo)(()=>{let[e,t]=l.pool_token_mints;return[i.get(e),i.get(t)]},[l.pool_token_mints,i]),T=(0,s.useMemo)(()=>"/pools/".concat(l.pool_address),[l.pool_address]),P=(0,s.useMemo)(()=>{var e,l;if(!b||!_)return!0;let t=null===(e=d[b.address])||void 0===e?void 0:e.usd,o=null===(l=d[_.address])||void 0===l?void 0:l.usd;return!t||!o},[b,_,d]),k=(0,s.useMemo)(()=>{var e;let t=Number(l.pool_tvl)?u.edS(l.fee_volume).add(u.edS(Number(l.yield_volume))).mul(100).div(Number(l.pool_tvl)).mul(365).toNumber():0,o=u.edS(null!==(e=null==l?void 0:l.farming_apy)&&void 0!==e?e:0).toNumber();return{feeDivTVL:t,lmApy:o}},[null==l?void 0:l.farming_apy,l.fee_volume,l.pool_tvl,l.yield_volume]);return(0,o.jsxs)(h.Z,{href:T,className:a()("flex lg:flex-row flex-col justify-between lg:items-center items-start p-5 lg:py-6 lg:px-8 bg-white border border-[#EAECF0] cursor-pointer lg:h-28",t?"h-[300px]":"h-[260px]",n),onClick:w,children:[(0,o.jsxs)("div",{className:"w-full lg:w-auto pb-6 lg:pb-0 flex flex-row justify-between border-b lg:border-none",children:[(0,o.jsxs)("div",{className:"flex items-center min-w-[280px]",children:[(0,o.jsx)("div",{className:"flex items-center space-x-1",children:[b,_].map((e,l)=>(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"flex justify-center items-center",children:(0,o.jsx)(C.Z,{info:e,size:32})})},l))}),(0,o.jsx)("div",{className:"ml-5",children:(0,o.jsx)("p",{className:"font-semibold",children:l.pool_name})}),(0,o.jsx)("div",{ref:r,className:"ml-2 flex items-center space-x-2",children:l.permissioned?(0,o.jsx)(v.Z,{id:"permissioned",placement:"top",trigger:"hover",buttonContent:(0,o.jsx)("div",{className:"w-7 h-7 flex items-center justify-center",children:(0,o.jsx)(x(),{src:"/icons/logo.svg",width:24,height:24,alt:"permissioned"})}),popoverContent:(0,o.jsxs)("div",{className:"text-white px-4 py-5 flex flex-col space-y-5 max-w-[260px]",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)(x(),{src:"/icons/logo.svg",width:20,height:20,alt:"logo"}),(0,o.jsx)("div",{className:"text-sm font-semibold",children:"Created by Meteora"})]}),(0,o.jsx)("div",{className:"text-white/75 text-xs",children:"This pool was created by Meteora"})]})}):null})]}),(0,o.jsx)("div",{className:"flex lg:hidden",children:(0,o.jsx)(x(),{src:N.Z,alt:"chevronRight",width:10,height:10})})]}),(0,o.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between space-y-2 lg:space-y-0 lg:justify-start text-sm mt-4 lg:mt-0 w-full lg:w-auto lg:space-x-5 lg:[&>*]:w-[100px] overflow-x-hidden",children:[t?(0,o.jsxs)("div",{className:"flex flex-row lg:flex-col lg:items-center justify-between lg:justify-start !w-full lg:!w-[140px]",children:[(0,o.jsx)("p",{className:"lg:hidden text-black-50 text-xs font-semibold",children:"Your Deposits"}),(0,o.jsxs)("div",{className:"flex flex-col items-end lg:items-center space-y-1",children:[c?(0,o.jsx)("p",{className:"text-green-caption px-2.5 py-0.5 rounded-2xl text-xs font-semibold bg-green-caption/10 text-center leading-none",children:c}):null,m?(0,o.jsx)(v.Z,{id:"locked_value",placement:"auto",trigger:"hover",contentClassName:"max-w-[260px]",buttonContent:(0,o.jsxs)("p",{className:"text-meteora-purple px-2.5 py-0.5 rounded-2xl bg-meteora-purple/10 text-center flex items-center space-x-1",children:[(0,o.jsx)(x(),{src:"/icons/money.svg",width:12,height:12,alt:"money"}),(0,o.jsx)("span",{className:"text-[10px] leading-none",children:m})]}),popoverContent:(0,o.jsx)("div",{className:"text-white p-4 text-sm font-semibold",children:"Fees you can claim from your burned liquidity."})}):f&&!c?(0,o.jsx)(g.O,{className:"!h-4 !w-20 !rounded-full"}):null]})]}):null,(0,o.jsxs)("div",{className:"flex flex-row lg:flex-col lg:items-center justify-between lg:justify-start",children:[(0,o.jsx)("p",{className:"lg:hidden text-black-50 text-xs",children:"Type"}),(0,o.jsx)("div",{className:"flex flex-row lg:flex-col items-center space-x-1 lg:space-x-0 lg:space-y-1",children:(0,o.jsx)(PoolTypeTags,{pool:l})})]}),(0,o.jsxs)("div",{className:"flex flex-row lg:flex-col lg:items-center justify-between lg:justify-start",children:[(0,o.jsx)("p",{className:"lg:hidden text-black-50 text-xs",children:"Total Liquidity"}),void 0!==l.pool_tvl?(0,o.jsx)("p",{className:"text-black-75 font-semibold text-xsm",children:"$".concat((0,j.qz)(u.edS(l.pool_tvl)))}):(0,o.jsx)(g.O,{className:"w-12 h-5"})]}),(0,o.jsxs)("div",{className:"flex flex-row lg:flex-col lg:items-center justify-between lg:justify-start",children:[(0,o.jsx)("p",{className:"lg:hidden text-black-50 text-xs",children:"24h Vol"}),void 0!==l.trading_volume?(0,o.jsx)("p",{className:"text-black-75 font-semibold text-xsm",children:"$".concat((0,y.xG)(l.trading_volume))}):(0,o.jsx)(g.O,{className:"w-12 h-5"})]}),(0,o.jsx)(S.Z,{invalid:P,apyBreakdown:k,baseApyTooltip:"Variable APY based on trading activity and yield from lending platforms",isFarmingPool:!!l.farming_pool&&!l.farm_expire,isNewFarm:l.farm_new,pool:l.pool_address}),(0,o.jsx)("div",{className:"hidden !w-auto lg:flex mt-4 lg:mt-0 lg:ml-8",children:(0,o.jsx)(x(),{src:N.Z,alt:"chevronRight",width:10,height:32})})]})]})};PoolsRow.displayName="PoolsRow",l.ZP=PoolsRow},9119:function(e,l,t){var o=t(29541);t(93981);var s=t(30583),n=t.n(s);l.Z=e=>{let{className:l,baseClassName:t,baseColor:s="currentColor",spinnerColor:r="currentColor",width:i=16,height:a=16}=e;return(0,o.jsx)("div",{className:"rounded-full flex items-center justify-center ".concat(l),style:{width:i,height:a},children:(0,o.jsxs)("svg",{className:"animate-spin h-5 w-5 text-black dark:text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:n()("opacity-25",t),cx:"12",cy:"12",r:"10",stroke:s,strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:r,d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}},7731:function(e,l,t){var o=t(29541),s=t(93981),n=t(30583),r=t.n(n),i=t(99438),a=t.n(i),d=t(72215),c=t(12955),u=t(27106),m=t(20547),x=t(73430),p=t(65179),f=t(17055),h=t(39548),v=t(68250);let useExtractedMercurialPoolInfo=e=>{var l;let{tokenMap:t}=(0,d.Bn)(),{fee:o,tvl:n,dailyTVL:r,dailyTVE:i}=(0,s.useMemo)(()=>{var l,t;return{fee:"".concat(e.poolInfo.total_fee_pct,"%"),tvl:e.totalBalanceInUSD?"$".concat((0,v.qz)(e.totalBalanceInUSD)):void 0,dailyTVL:void 0!==(null===(l=e.poolInfo)||void 0===l?void 0:l.trading_volume)?"$".concat((0,v.xG)(e.poolInfo.trading_volume)):void 0,dailyTVE:void 0!==(null===(t=e.poolInfo)||void 0===t?void 0:t.yield_volume)?"$".concat((0,v.xG)(Number(e.poolInfo.yield_volume))):void 0}},[e]),a=(0,s.useMemo)(()=>{var l;return"/pools/".concat(null===(l=e.poolInfo)||void 0===l?void 0:l.pool_address)},[null===(l=e.poolInfo)||void 0===l?void 0:l.pool_address]),c=(0,s.useMemo)(()=>e.pool.tokenMints.map(e=>{var l;return null!==(l=t.get(e.toString()))&&void 0!==l?l:h.mq}).filter(Boolean),[e,t]);return{fee:o,tvl:n,dailyTVL:r,dailyTVE:i,href:a,tokenInfos:c}},Mercurial1PoolRow=e=>{var l;let{ammImpl:t,userShareInUSD:n,className:i}=e,d=(0,s.useRef)(null),{tvl:h,dailyTVL:g,href:w,tokenInfos:y}=useExtractedMercurialPoolInfo(t),j=(0,s.useMemo)(()=>"Non-pegged Stable Pool"===t.poolDescription?"Non-pegged":"",[t.poolDescription]),b=(0,s.useCallback)(e=>{d.current&&e.nativeEvent.composedPath().includes(d.current)&&e.preventDefault()},[]);return(0,o.jsxs)(c.Z,{href:w,className:r()("flex lg:flex-row flex-col justify-between lg:items-center items-start p-5 lg:py-6 lg:px-8 bg-white border border-[#EAECF0] cursor-pointer lg:h-28",n?"h-[300px]":"h-[260px]",i),onClick:b,children:[(0,o.jsxs)("div",{className:"w-full lg:w-auto pb-6 lg:pb-0 flex flex-row justify-between border-b lg:border-none",children:[(0,o.jsxs)("div",{className:"flex items-center min-w-[280px]",children:[(0,o.jsx)("div",{className:"flex items-center space-x-1",children:y.map((e,l)=>(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"flex justify-center items-center",children:(0,o.jsx)(p.Z,{info:e,size:28})})},l))}),(0,o.jsx)("div",{className:"ml-5",children:(0,o.jsx)("p",{className:"font-semibold",children:null===(l=t.poolInfo)||void 0===l?void 0:l.pool_name})}),(0,o.jsx)("div",{ref:d,className:"ml-2 flex items-center space-x-2",children:t.poolInfo.permissioned?(0,o.jsx)(m.Z,{id:"permissioned",placement:"top",trigger:"hover",buttonContent:(0,o.jsx)("div",{className:"w-7 h-7 flex items-center justify-center",children:(0,o.jsx)(a(),{src:"/icons/logo.svg",width:24,height:24,alt:"permissioned"})}),popoverContent:(0,o.jsxs)("div",{className:"text-white px-4 py-5 flex flex-col space-y-5 max-w-[260px]",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)(a(),{src:"/icons/logo.svg",width:20,height:20,alt:"logo"}),(0,o.jsx)("div",{className:"text-sm font-semibold",children:"Created by Meteora"})]}),(0,o.jsx)("div",{className:"text-white/75 text-xs",children:"This pool was created by Meteora"})]})}):null})]}),(0,o.jsx)("div",{className:"flex lg:hidden",children:(0,o.jsx)(a(),{src:f.Z,alt:"chevronRight",width:10,height:10})})]}),(0,o.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between space-y-2 lg:space-y-0 lg:justify-start text-sm mt-4 lg:mt-0 w-full lg:w-auto lg:space-x-5 lg:[&>*]:w-[100px] overflow-x-hidden",children:[(0,o.jsx)("div",{className:"flex flex-row lg:flex-col lg:items-center justify-between lg:justify-start !w-full lg:!w-[140px]",children:n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"lg:hidden text-black-50 text-xs font-semibold",children:"Your Deposits"}),(0,o.jsx)("p",{className:"text-green-caption px-2.5 py-0.5 rounded-2xl text-xs font-semibold bg-green-caption/10",children:"$".concat((0,v.xG)(n))})]}):null}),(0,o.jsxs)("div",{className:"flex flex-row lg:flex-col lg:items-center justify-between lg:justify-start",children:[(0,o.jsx)("p",{className:"lg:hidden text-black-50 text-xs",children:"Type"}),(0,o.jsxs)("div",{className:"flex flex-row lg:flex-col items-center space-x-1 lg:space-x-0 space-y-0 lg:space-y-1",children:[j?(0,o.jsx)("p",{className:"text-black/50 text-xxs leading-none font-semibold border px-1.5 py-1 rounded",children:j}):null,(0,o.jsx)("p",{className:"text-black/50 text-xxs leading-none font-semibold border px-1.5 py-1 rounded w-fit",children:"Multi-token"})]})]}),(0,o.jsxs)("div",{className:"flex flex-row lg:flex-col lg:items-center justify-between lg:justify-start",children:[(0,o.jsx)("p",{className:"lg:hidden text-black-50 text-xs",children:"Total Liquidity"}),void 0!==h?(0,o.jsx)("p",{className:"text-black-75 font-semibold text-xsm",children:h}):(0,o.jsx)(x.O,{className:"w-12 h-5"})]}),(0,o.jsxs)("div",{className:"flex flex-row lg:flex-col lg:items-center justify-between lg:justify-start",children:[(0,o.jsx)("p",{className:"lg:hidden text-black-50 text-xs",children:"24h Vol"}),void 0!==g?(0,o.jsx)("p",{className:"text-black-75 font-semibold text-xsm",children:g}):(0,o.jsx)(x.O,{className:"w-12 h-5"})]}),(0,o.jsx)(u.Z,{apyBreakdown:t.apyBreakdown,baseApyTooltip:"Variable APY based on trading activity",isFarmingPool:!!t.poolInfo.farming_pool&&!t.poolInfo.farm_expire,isNewFarm:t.poolInfo.farm_new}),(0,o.jsx)("div",{className:"hidden !w-auto lg:flex mt-4 lg:mt-0 lg:ml-8",children:(0,o.jsx)(a(),{src:f.Z,alt:"chevronRight",width:10,height:32})})]})]})};Mercurial1PoolRow.displayName="Mercurial1PoolRow",l.Z=Mercurial1PoolRow},70464:function(e,l,t){var o=t(29541);t(93981),l.Z=e=>{let{width:l=20,height:t=20}=e;return(0,o.jsx)("svg",{width:l,height:t,viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M2.0336 16.2126L8.2336 10.0126L2.0336 3.81263C1.7961 3.57903 1.66172 3.25951 1.66016 2.92669C1.65938 2.59309 1.79141 2.27357 2.02734 2.03763C2.26328 1.80247 2.5828 1.67045 2.9164 1.67201C3.25 1.67357 3.56874 1.80795 3.80234 2.04623L9.99994 8.24623L16.1999 2.04623C16.4335 1.80795 16.7523 1.67357 17.0859 1.67201C17.4187 1.67045 17.739 1.80248 17.9749 2.03763C18.2109 2.27357 18.3429 2.59309 18.3413 2.92669C18.3406 3.25951 18.2062 3.57903 17.9687 3.81263L11.7663 10.0126L17.9663 16.2126C18.2038 16.4462 18.3382 16.7658 18.3397 17.0986C18.3405 17.4322 18.2085 17.7517 17.9725 17.9876C17.7366 18.2228 17.4171 18.3548 17.0835 18.3533C16.7499 18.3517 16.4311 18.2173 16.1975 17.979L9.99994 11.779L3.79994 17.979C3.31088 18.4611 2.52494 18.4579 2.039 17.9736C1.55384 17.4884 1.54994 16.7025 2.03119 16.2126L2.0336 16.2126Z",fill:"currentColor"})})}},98119:function(e,l,t){var o=t(29541);t(93981),l.Z=e=>(0,o.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,o.jsx)("path",{d:"M6.99577 13.9993C3.03547 13.9836 -0.111719 10.7405 0.00304155 6.78967C0.112661 3.01515 3.20317 -0.0267528 7.05147 0.000177441C10.927 0.0271937 14.0326 3.19386 13.994 7.05652C13.9556 10.9076 10.7994 14.0388 6.99546 13.9996L6.99577 13.9993ZM7.14424 6.00318C6.43487 6.02649 5.80072 6.27203 5.21507 6.65924C5.16558 6.69199 5.11812 6.7324 5.08059 6.77818C4.94694 6.94136 4.99273 7.07943 5.19415 7.13201C5.27162 7.15221 5.35111 7.16608 5.42726 7.19047C5.74908 7.29315 5.83587 7.45095 5.75422 7.78459C5.55578 8.59568 5.35339 9.40591 5.15829 10.218C5.01365 10.8206 5.31884 11.3132 5.89729 11.3579C6.75334 11.4239 7.51734 11.1414 8.20458 10.6456C8.27738 10.5931 8.33381 10.4626 8.32604 10.3745C8.32138 10.321 8.18032 10.2769 8.09772 10.2341C8.06293 10.2161 8.02073 10.2127 7.982 10.2022C7.5991 10.0999 7.49952 9.93982 7.5923 9.55787C7.78429 8.76579 7.98833 7.97658 8.16767 7.18164C8.21022 6.99349 8.21309 6.77723 8.1654 6.5916C8.05864 6.17822 7.6969 5.98707 7.14427 6.0032L7.14424 6.00318ZM8.92517 3.5771C8.92624 2.84597 8.36116 2.26921 7.63915 2.2644C6.90493 2.25938 6.31546 2.8431 6.32155 3.56859C6.32776 4.29158 6.9023 4.85916 7.63089 4.86167C8.34121 4.86383 8.92397 4.28549 8.92517 3.57707V3.5771Z",fill:"currentColor"})})},51494:function(e,l,t){var o=t(29541);t(93981),l.Z=e=>{let{width:l=18,height:t=18}=e;return(0,o.jsx)("svg",{width:l,height:t,viewBox:"0 0 18 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M7.30327 14.6058C8.75327 14.6074 10.1705 14.1746 11.3729 13.3637L15.5971 17.5871C16.1463 18.1371 17.0377 18.1371 17.5877 17.5871C18.1377 17.0371 18.1377 16.1457 17.5877 15.5964L13.3643 11.3722C14.5823 9.55661 14.9229 7.28943 14.2909 5.19563C13.6596 3.10183 12.1229 1.40183 10.1033 0.56283C8.08365 -0.276231 5.79385 -0.16607 3.86505 0.86283C1.93537 1.89251 0.569053 3.73243 0.140853 5.87683C-0.286487 8.02143 0.269759 10.2448 1.65725 11.9354C3.04397 13.6261 5.11665 14.6064 7.30325 14.6058H7.30327ZM7.30327 1.68943C8.79233 1.68865 10.2197 2.28005 11.2729 3.33319C12.3252 4.38631 12.9166 5.81359 12.9166 7.30279C12.9166 8.79199 12.3252 10.2192 11.2729 11.2724C10.2198 12.3247 8.79247 12.9162 7.30327 12.9162C5.81407 12.9162 4.38687 12.3247 3.33367 11.2724C2.28133 10.2193 1.68913 8.79199 1.68991 7.30279C1.69148 5.81451 2.28287 4.38719 3.33523 3.33479C4.38759 2.28239 5.81483 1.69103 7.30323 1.68947L7.30327 1.68943Z",fill:"currentColor"})})}},31862:function(e,l,t){t.d(l,{ZP:function(){return ammPositions},JN:function(){return useAmmPositions}});var o=t(29541),s=t(93981),n=t(59644),r=t(92144),i=t(7744),a=t(45009),d=t(65558),c=t.n(d),u=t(72215),m=t(96713),x=t(93499),p=t(50177),f=t(72479),h=t(66306),v=t(89687),g=t(92490);let generateSymbolMatchingTextAmm=e=>{let{ammInfo:l,tokensInfoMap:t,searchTerm:o}=e;return(0,g.Cg)({tokenMints:l.pool_token_mints,tokensInfoMap:t,searchTerm:o})},generateMatchingTextAmm=e=>{let{ammInfo:l,tokensInfoMap:t,searchTerm:o}=e;return(0,g.NS)({tokenMints:l.pool_token_mints,tokensInfoMap:t,searchTerm:o})},w={match:g.hK,perform:e=>{let{ammInfo:l,searchTerm:t}=e,o=l.pool_address.toLowerCase()===t;return o}},y={match:e=>{let{searchTerm:l}=e;return(0,g.r1)(l)},perform:e=>{let[,,l]=generateSymbolMatchingTextAmm(e),t=e.searchTerm.toLowerCase().split(/[- ]/).filter(Boolean).slice(0,2).sort().join();return t===l}},j={match:e=>{let{searchTerm:l}=e;return!(0,g.r1)(l)},perform:e=>{let[l,t]=generateSymbolMatchingTextAmm(e),o=e.searchTerm.replace(/[- ]/g,"").toLowerCase();return o===l||o===t}},b={match:e=>{let{searchTerm:l}=e;return!(0,g.r1)(l)},perform:e=>{let[,,l]=generateSymbolMatchingTextAmm(e),t=e.searchTerm.replace(/[- ]/g,"").toLowerCase();return l.includes(t)}},N={match:e=>{let{searchTerm:l}=e;return(0,g.r1)(l)},perform:e=>{let[l,t]=generateMatchingTextAmm(e),[o,s]=e.searchTerm.toLowerCase().split(/[- ]/).filter(Boolean);return!!((null==l?void 0:l.includes(o))&&(null==t?void 0:t.includes(s)))||!!((null==l?void 0:l.includes(s))&&(null==t?void 0:t.includes(o)))}},C={match:e=>{let{searchTerm:l}=e;return!(0,g.r1)(l)},perform:e=>{let[,,l]=generateMatchingTextAmm(e),t=e.searchTerm.replace(/[- ]/g,"").toLowerCase();return l.includes(t)}};Object.freeze({searchByPoolAddress:[],searchByTwoSymbol:[],searchByOneExactSymbol:[],searchByOneSymbol:[],searchByTwoTermLooseInfo:[],searchBySingleLooseInfo:[]});let performSearchPool=e=>{let{pools:l,searchTerm:t,tokensInfoMap:o}=e,s=l.reduce((e,l)=>{let s={ammInfo:l,searchTerm:t.toLowerCase(),tokensInfoMap:o};return w.match(s)&&w.perform(s)?e.searchByPoolAddress.push(l):y.match(s)&&y.perform(s)?e.searchByTwoSymbol.push(l):j.match(s)&&j.perform(s)?e.searchByOneExactSymbol.push(l):b.match(s)&&b.perform(s)?e.searchByOneSymbol.push(l):N.match(s)&&N.perform(s)?e.searchByTwoTermLooseInfo.push(l):C.match(s)&&C.perform(s)&&e.searchBySingleLooseInfo.push(l),e},{searchByPoolAddress:[],searchByTwoSymbol:[],searchByOneExactSymbol:[],searchByOneSymbol:[],searchByTwoTermLooseInfo:[],searchBySingleLooseInfo:[]});return s};var _=t(36508);let A={match:e=>{let{sortData:l}=e;return null!=l&&!!l.sortColumn&&![_.r.DEPOSIT,_.r.DEPOSIT_FEE].includes(l.sortColumn)},perform:e=>{let{a:l,b:t,tokenPriceMap:o,sortData:s}=e,n=(()=>{var e,t;let[s,n]=[null===(e=o[l.pool_token_mints[0]])||void 0===e?void 0:e.usd,null===(t=o[l.pool_token_mints[1]])||void 0===t?void 0:t.usd];return!s||!n})(),r=(()=>{var e,l;let[s,n]=[null===(e=o[t.pool_token_mints[0]])||void 0===e?void 0:e.usd,null===(l=o[t.pool_token_mints[1]])||void 0===l?void 0:l.usd];return!s||!n})(),i=mapHeaderToAmmInfo(l),a=mapHeaderToAmmInfo(t),d=i[s.sortColumn],c=a[s.sortColumn];return n&&r?0:n?1:r?-1:(null==s?void 0:s.sortType)==="asc"?d-c:(null==s?void 0:s.sortType)==="desc"?c-d:0}},S={match:e=>{let{sortData:l}=e;return null!=l&&!!l.sortColumn&&[_.r.DEPOSIT,_.r.DEPOSIT_FEE].includes(l.sortColumn)},perform:e=>{var l,t,o,s,n,r,i,a,d,c,u,m,x,p;let{a:f,b:h,sortData:v,filteredPoolsShare:g}=e,w=null==g?void 0:g.get(f.pool_address),y=null==g?void 0:g.get(h.pool_address);if((null==v?void 0:v.sortType)==="asc")return(null!==(t=null!==(l=null==w?void 0:w.shareAmount)&&void 0!==l?l:null==w?void 0:w.feeAmountInUSD)&&void 0!==t?t:0)-(null!==(s=null!==(o=null==y?void 0:y.shareAmount)&&void 0!==o?o:null==y?void 0:y.feeAmountInUSD)&&void 0!==s?s:0);if((null==v?void 0:v.sortType)==="desc"){if(!(null==y?void 0:y.shareAmount)&&!(null==w?void 0:w.shareAmount)){if((null==y?void 0:y.shareNativeAmount)||(null==w?void 0:w.shareNativeAmount))return(null!==(n=null==y?void 0:y.shareNativeAmount)&&void 0!==n?n:0)-(null!==(r=null==w?void 0:w.shareNativeAmount)&&void 0!==r?r:0);if(!(null==y?void 0:y.feeAmountInUSD)&&!(null==w?void 0:w.feeAmountInUSD))return(null!==(i=null==y?void 0:y.lockedNativeAmount)&&void 0!==i?i:0)-(null!==(a=null==w?void 0:w.lockedNativeAmount)&&void 0!==a?a:0);if((null==y?void 0:y.feeAmountInUSD)||(null==w?void 0:w.feeAmountInUSD))return(null!==(d=null==y?void 0:y.feeAmountInUSD)&&void 0!==d?d:0)-(null!==(c=null==w?void 0:w.feeAmountInUSD)&&void 0!==c?c:0);let e=0,l=0;return f.pool_tvl>h.pool_tvl?e+=1:l+=1,5e4>Number(f.pool_tvl)&&(e-=100),5e4>Number(h.pool_tvl)&&(l-=100),l-e}return(null!==(m=null!==(u=null==y?void 0:y.shareAmount)&&void 0!==u?u:null==y?void 0:y.feeAmountInUSD)&&void 0!==m?m:0)-(null!==(p=null!==(x=null==w?void 0:w.shareAmount)&&void 0!==x?x:null==w?void 0:w.feeAmountInUSD)&&void 0!==p?p:0)}return h.pool_order-f.pool_order}},mapHeaderToAmmInfo=e=>({[_.r.TVL]:Number(e.pool_tvl),[_.r.DAILY_VOL]:Number(e.trading_volume)}),performSortPool=e=>{let{pools:l,sortData:t,tokenPriceMap:o,filteredPoolsShare:s}=e;return l.sort((e,l)=>{let n={a:e,b:l,tokenPriceMap:o,sortData:t,filteredPoolsShare:s};return A.match(n)?A.perform(n):S.match(n)?S.perform(n):0})},T=(0,s.createContext)({});var ammPositions=e=>{var l,t,d;let{children:g}=e,w=(0,u.Rc)(),{tokensInfoMap:y,fetchTokensInfo:j}=(0,v.Ms)(),b=(0,u.Os)(),{tokenPriceMap:N,getUSDValue:C}=(0,u.y6)(),{constants:{cluster:A,ammProgramId:S}}=(0,u.MG)(),{farmsShare:P}=(0,s.useContext)(m.z),{mintToAssociatedTokenAccountMap:k,isFetching:M}=(0,u.ag)(),{isLoaded:B,requestOnChainTokenInfo:L}=(0,u.Bn)(),{pools:I,userLpTokens:D}=(0,f.nf)(),{poolType:E,setPoolType:Z}=(0,v.gD)();(0,s.useEffect)(()=>(Z(h.T7.STABLE),()=>Z(E||h.T7.METEORA)),[Z]);let[O,R]=(0,s.useState)(""),{data:V,isFetching:F}=(0,a.a)(["userLockedLp",null===(l=b.publicKey)||void 0===l?void 0:l.toBase58()],async()=>{if(!b.publicKey)return null;let e=await r.ZP.getLockedLpAmountByUser(w,b.publicKey,{programId:S});return e},{enabled:!!b.publicKey}),[z,U]=(0,n.Z)("amm-mlp-tokens-info",new Map,{raw:!1,serializer:e=>JSON.stringify(Array.from(e.entries())),deserializer(e){let l=new Map(JSON.parse(e));return l}}),Y=(0,s.useCallback)(async e=>{let l=Array.from(new Set(e)).filter(e=>e!==i.PublicKey.default.toBase58()),t=(0,x.OZ)(l,100),o=new Map;return B?(await Promise.all(t.map(async e=>{let l=e.filter(e=>!(null==z?void 0:z.has(e))),t=await L(l);U(e=>(t.filter(Boolean).forEach(l=>{null==e||e.set(l.address,l)}),o=e,new Map(e)))})),new Map(o)):o},[B,L,z,U]),{data:K,isFetching:H}=(0,a.a)(["user-amm-mlp",null===(t=b.publicKey)||void 0===t?void 0:t.toBase58(),k.size],async()=>{let e=[...k.values()];if(!e.length)return[];let l=e.map(e=>{let{info:{mint:l}}=e;return l.toBase58()}).filter(Boolean),t=await Y(l),o=l.map(e=>{let l=t.get(e);return(null==l?void 0:l.symbol)==="MLP"?l.updateAuthority:null}).filter(Boolean),s=await (0,h.HL)({addresses:o});return s},{enabled:!!b.publicKey&&!!k.size,keepPreviousData:!0}),J=(0,s.useMemo)(()=>{var e;if(K)return[].concat(K).concat((null===(e=I.filter(e=>{var l;return Number(null!==(l=D.get(e.poolInfo.pool_address))&&void 0!==l?l:0)>0}))||void 0===e?void 0:e.map(e=>e.poolInfo))||[])},[I,K,D]),$=(0,s.useMemo)(()=>{let e=null==J?void 0:J.reduce((e,l)=>{var t,o,s;let{pool_address:n,lp_mint:r,pool_lp_price_in_usd:i,farming_pool:a,lp_decimal:d}=l,u=k.get(r);if(!u)return e;let m=null!==(o=null==V?void 0:null===(t=V.get(n))||void 0===t?void 0:t.totalLockedAmount)&&void 0!==o?o:new(c())(0),f=new(c())(u.info.amount),h=new(c())(0);a&&(h=null!==(s=null==P?void 0:P.get(a))&&void 0!==s?s:p.xE);let v=f.add(h),g=(0,x.lt)(f,d),w=(0,x.lt)(v,d),y=w*i,j=(0,x.lt)(m,d),b=j*i;return e.set(n,{shareAmount:y,withdrawableAmount:g,shareNativeAmount:w,lockedNativeAmount:j,feeAmountInUSD:b,lockedNativeAmountLamport:m}),e},new Map);return e||new Map},[P,k,J,V]),[q,G]=(0,s.useState)({sortColumn:_.r.DEPOSIT,sortType:"desc"}),{availablePools:W,tieredSearchResult:X}=(0,s.useMemo)(()=>{if(!J)return{availablePools:[],tieredSearchResult:null};let e=[...J],l=null,t=J.reduce((e,l)=>{let t=null==$?void 0:$.get(l.pool_address);return t&&e.set(l.pool_address,t),e},new Map);if(O.length>=1){let e=performSearchPool({pools:J,searchTerm:O,tokensInfoMap:y});l=e?(()=>{let params=e=>({pools:e,sortData:q,tokenPriceMap:N,filteredPoolsShare:t});return{searchByPoolAddress:performSortPool(params(e.searchByPoolAddress)),searchByTwoSymbol:performSortPool(params(e.searchByTwoSymbol)),searchByOneExactSymbol:performSortPool(params(e.searchByOneExactSymbol)),searchByOneSymbol:performSortPool(params(e.searchByOneSymbol)),searchByTwoTermLooseInfo:performSortPool(params(e.searchByTwoTermLooseInfo)),searchBySingleLooseInfo:performSortPool(params(e.searchBySingleLooseInfo))}})():null}else{let l=J.filter(e=>{let l=null==$?void 0:$.get(e.pool_address);return(null==l?void 0:l.shareAmount)||(null==l?void 0:l.shareNativeAmount)||(null==l?void 0:l.lockedNativeAmount)||(null==l?void 0:l.feeAmountInUSD)});e=performSortPool({pools:l,sortData:q,tokenPriceMap:N,filteredPoolsShare:t})}return{availablePools:e,tieredSearchResult:l}},[O,J,$,q,N,y]),{data:Q,isFetching:ee}=(0,a.a)(["initializedAmmImpls",null===(d=b.publicKey)||void 0===d?void 0:d.toBase58(),null==K?void 0:K.length],async()=>{if(!K||!K.length)return new Map;let e=K.flatMap(e=>{let{pool_token_mints:l}=e;return l}).filter(Boolean);j(e),C(e);let l=(0,x.OZ)(K.map(e=>{let{pool_address:l}=e;return new i.PublicKey(l)}).filter(Boolean),50);if(0===l.length)return new Map;let t=(await Promise.all(l.map(e=>r.ZP.createMultiple(w,e,{cluster:A,programId:S})))).flat(),o=new Map;return t.forEach(e=>{o.set(e.address.toBase58(),e)}),o},{enabled:!!K,keepPreviousData:!0}),el=H||M||F||ee,et=b.connected&&!(null==W?void 0:W.length)&&!el;return(0,o.jsx)(T.Provider,{value:{isFetching:el,availablePools:W,tieredSearchResult:X,allPoolsShare:$,poolToSearch:O,searchPool:R,onPoolSort:G,poolSortData:q,userLockedLp:V,initializedAmmImpls:Q,initializedAmmImplsFetching:ee,hasNoPools:et},children:g})};let useAmmPositions=e=>{let{isPortfolio:l}=e,t=(0,s.useContext)(T);if(!l)return null;if(void 0===t)throw Error("useAmmPositions must be used within a AmmProvider");return t}},36508:function(e,l,t){var o,s,n,r;t.d(l,{r:function(){return o},z:function(){return s}}),(n=o||(o={})).DEPOSIT_FEE="Your Deposits / Fee",n.DEPOSIT="Your Deposits",n.TYPE="Type",n.TVL="TVL",n.DAILY_VOL="24H Vol",n.FEE_DIV_TVL="365d Yield / TVL",n.LM_APY="LM APR",(r=s||(s={})).DEPOSIT="Your Deposits",r.TVL="TVL",r.DAILY_VOL="24H Vol",r.APR="24hr Fee/TVL",r.LM_APR="LM APR"},92490:function(e,l,t){t.d(l,{Cg:function(){return n},NS:function(){return r},hK:function(){return isSearchByAddress},r1:function(){return i}});var o=t(39694),s=t.n(o);let n=s()(e=>{let{tokenMints:l,tokensInfoMap:t}=e,o=l.map(e=>t.get(e)).filter(Boolean),s=o.map(e=>e.symbol.toLowerCase()).filter(Boolean).sort();return[s[0],s[1],s.join()]},e=>e.tokenMints.join()),r=s()(e=>{let{tokenMints:l,tokensInfoMap:t,searchTerm:o}=e,s=isSearchByAddress({searchTerm:o}),n=l.map(e=>({mint:e,tokenInfo:t.get(e)})).map(e=>{var l;let{mint:t,tokenInfo:o}=e;return[null==o?void 0:o.symbol,null==o?void 0:o.name,s?t:"",(null==o?void 0:null===(l=o.extensions)||void 0===l?void 0:l.description)||""].join(" ").toLowerCase().trim()}).filter(Boolean);return[n[0],n[1],n.join(" ").replace("-"," ")]},e=>e.tokenMints.join()),isSearchByAddress=e=>{let{searchTerm:l}=e;return l.length>=32&&l.length<=48},i=s()(e=>{let l=e.includes("-")?"-":e.includes(" ")?" ":null;if(!l)return!1;let t=e.split(l).filter(Boolean);return t.length>1},e=>e)}}]);